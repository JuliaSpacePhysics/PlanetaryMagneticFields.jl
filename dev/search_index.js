var documenterSearchIndex = {"docs":
[{"location":"#PlanetaryMagneticFields.jl","page":"Home","title":"PlanetaryMagneticFields.jl","text":"A Julia package for planetary magnetic field modeling.","category":"section"},{"location":"#Overview","page":"Home","title":"Overview","text":"PlanetaryMagneticFields.jl provides a unified framework for working with magnetic field models of planets in our solar system. It implements spherical harmonic expansions with Schmidt semi-normalization, following standards used in geomagnetism and planetary science.","category":"section"},{"location":"#Features","page":"Home","title":"Features","text":"Multi-planetary support: Currently Jupiter, with Earth, Saturn, and others coming soon\nMultiple models: JRM09, JRM33 for Jupiter\nFlexible evaluation: Support for both spherical and Cartesian coordinates","category":"section"},{"location":"#Installation","page":"Home","title":"Installation","text":"using Pkg\nPkg.add(\"PlanetaryMagneticFields\")","category":"section"},{"location":"#Quick-Start","page":"Home","title":"Quick Start","text":"using PlanetaryMagneticFields\n\n# Load a Jupiter magnetic field model by unique name\nmodel = load_model(:JRM33; max_degree=13)\n\n# Or use the convenience accessor\nmodel = JRM33(max_degree=13)\n\n# Evaluate the field at a position (in planetary radii)\n# Position: 1.5 RJ, 45° colatitude, 0° longitude\nr, θ, φ = 1.5, π/4, 0.0\nB = model(r, θ, φ)  # Returns [B_r, B_θ, B_φ] in nT\n\n# Use Cartesian coordinates\nmodel_cart = JRM33(max_degree=13, in=:cartesian, out=:cartesian)\nB = model_cart(1.0, 0.0, 0.5)  # Returns [B_x, B_y, B_z] in nT\n\n# Keyword arguments take precedence over constructor arguments\nB_sph = model_cart(1.0, 0.0, 0.5; out=:spherical)  # Returns [B_r, B_θ, B_φ]","category":"section"},{"location":"#Coordinate-Systems","page":"Home","title":"Coordinate Systems","text":"PlanetaryMagneticFields.jl currently supports two coordinate systems:","category":"section"},{"location":"#Spherical-Coordinates","page":"Home","title":"Spherical Coordinates","text":"r: Radial distance from planet center (in planetary radii or km)\nθ: Colatitude in radians [0, π] (0 at north pole, π at south pole)\nφ: East longitude in radians [0, 2π]","category":"section"},{"location":"#Cartesian-Coordinates","page":"Home","title":"Cartesian Coordinates","text":"x, y, z: Right-handed system with z-axis toward north pole\nx-axis points to (θ=π/2, φ=0)\ny-axis points to (θ=π/2, φ=π/2)","category":"section"},{"location":"#Examples","page":"Home","title":"Examples","text":"","category":"section"},{"location":"#Basic-Field-Evaluation","page":"Home","title":"Basic Field Evaluation","text":"using PlanetaryMagneticFields\n\n# Load model\nmodel = JRM09()\n\n# Evaluate at different positions\npositions = [\n    (1.5, 0.0, 0.0),      # North pole, 1.5 RJ\n    (2.0, π/2, 0.0),      # Equator, 2 RJ\n    (1.0, π/4, π/2),      # 45° colatitude, 90° longitude\n]\nB = model.(positions)","category":"section"},{"location":"#Using-Cartesian-Coordinates","page":"Home","title":"Using Cartesian Coordinates","text":"# Cartesian input and output\nmodel = JRM09(in=:cartesian, out=:cartesian)\nx, y, z = 1.0, 0.5, 0.5  # In Jupiter radii\nB = model(x, y, z)\n\n# Cartesian input, spherical output\nB_sph = model(x, y, z; out=:spherical)","category":"section"},{"location":"#Working-with-Units","page":"Home","title":"Working with Units","text":"# By default, positions are in planetary radii\nusing Unitful\nmodel = JRM09()\nr_km = 107238.0u\"km\"  # 1.5 RJ in km\nθ, φ = π/4, 0.0\n@assert model(r_km, θ, φ) == model(1.5, θ, φ)\nmodel(r_km, θ, φ)","category":"section"},{"location":"#Using-Different-Models","page":"Home","title":"Using Different Models","text":"# Load JRM09 (degree 10)\njrm09 = JRM09()\n\n# Load JRM33 truncated to degree 13 (recommended)\njrm33 = JRM33(max_degree=13)\n\n# Load full JRM33 (degree 30)\njrm33_full = JRM33()\n\n# Compare models\nr, θ, φ = 1.5, π/4, 0.0\nB09 = jrm09(r, θ, φ)\nB33 = jrm33(r, θ, φ)","category":"section"},{"location":"#Available-Models","page":"Home","title":"Available Models","text":"List all available models\n\navailable_models()","category":"section"},{"location":"#Jupiter","page":"Home","title":"Jupiter","text":"available_models(:jupiter)\n\nJRM09: Juno Reference Model through Perijove 9 (degree 10)\nReference: Connerney et al. (2018), Geophysical Research Letters\nDOI: 10.1002/2018GL077312\nJRM33: Juno Reference Model through Perijove 33 (degree 30, recommended truncation: 13)\nReference: Connerney et al. (2022), Journal of Geophysical Research: Planets\nDOI: 10.1029/2021JE007055","category":"section"},{"location":"#Physical-Parameters","page":"Home","title":"Physical Parameters","text":"","category":"section"},{"location":"#Jupiter-2","page":"Home","title":"Jupiter","text":"Mean radius: 71,492 km (1 RJ)\nReference frame: System III (1965) coordinates\nMagnetic dipole moment: ~4.17 Gauss RJ³","category":"section"},{"location":"#Mathematical-Background","page":"Home","title":"Mathematical Background","text":"The magnetic scalar potential is expanded in spherical harmonics:\n\nV(rθφ) = a sum_n=1^N sum_m=0^n left(fracarright)^n+1\n           g_n^m cos(mφ) + h_n^m sin(mφ) P_n^m(cos θ)\n\nwhere:\n\na is the planetary radius\ng_n^m, h_n^m are the Gauss coefficients (Schmidt semi-normalized)\nP_n^m are the associated Legendre polynomials (Schmidt semi-normalized)\n(r,θ,φ) are spherical coordinates\n\nThe magnetic field B = -∇V is computed from derivatives of the potential.","category":"section"},{"location":"#References","page":"Home","title":"References","text":"Connerney, J. E. P., et al. (2018). A new model of Jupiter's magnetic field from Juno's first nine orbits. Geophysical Research Letters, 45(6), 2590-2596. doi:10.1002/2018GL077312\nConnerney, J. E. P., et al. (2022). A new model of Jupiter's magnetic field at the completion of Juno's Prime Mission. Journal of Geophysical Research: Planets, 127(2), e2021JE007055. doi:10.1029/2021JE007055\nWinch, D. E., et al. (2005). Geomagnetism and Schmidt quasi-normalization. Geophysical Journal International, 160(2), 487-504.","category":"section"},{"location":"#Comparison","page":"Home","title":"Comparison","text":"using PythonCall\nusing PlanetaryMagneticFields\nusing Chairmarks\n@py import JupiterMag as jm\n\nr, θ, φ = 1.5, π/4, 0.0\njm.Internal.Config(Model=\"jrm33\", CartesianIn=false, CartesianOut=false)\nBr, Bt, Bp = jm.Internal.Field(r, θ, φ);\nB_py = pyconvert(Vector{Float64}, [Br[0], Bt[0], Bp[0]])\nmodel = JRM33(max_degree=13)\nB = model(r, θ, φ)\n@assert B_py ≈ B\n@b model(r, θ, φ), jm.Internal.Field(r, θ, φ)","category":"section"},{"location":"#API-Reference","page":"Home","title":"API Reference","text":"","category":"section"},{"location":"#PlanetaryMagneticFields.ExternalFieldModel","page":"Home","title":"PlanetaryMagneticFields.ExternalFieldModel","text":"ExternalFieldModel <: MagneticFieldModel\n\nAbstract type for external (magnetospheric) magnetic field models. These models may be empirical or physics-based.\n\n\n\n\n\n","category":"type"},{"location":"#PlanetaryMagneticFields.GaussCoefficients","page":"Home","title":"PlanetaryMagneticFields.GaussCoefficients","text":"GaussCoefficients\n\nStorage for Gauss coefficients in Schmidt semi-normalized form.\n\nFields\n\ng::Matrix{Float64}: Schmidt semi-normalized g coefficients (degree × order)\nh::Matrix{Float64}: Schmidt semi-normalized h coefficients (degree × order)\ndegree::Int: Maximum degree N\norder::Int: Maximum order M (typically M ≤ N)\n\nIndexing\n\nCoefficients are stored in a triangular matrix where row n (degree) contains coefficients for orders m = 0, 1, ..., min(n, M).\n\nFor coefficient gn^m or hn^m:\n\nUse: coeffs.g[n+1, m+1] or coeffs.h[n+1, m+1]\nNote: Julia uses 1-based indexing, so degree n is in row n+1\n\nSchmidt Semi-Normalization\n\nThese coefficients follow the Schmidt semi-normalization convention used in geomagnetism and planetary magnetic field modeling (IGRF, WMM, JRM, etc.).\n\n\n\n\n\n","category":"type"},{"location":"#PlanetaryMagneticFields.InternalFieldModel","page":"Home","title":"PlanetaryMagneticFields.InternalFieldModel","text":"InternalFieldModel <: MagneticFieldModel\n\nAbstract type for internal (planetary) magnetic field models. These models typically use spherical harmonic expansions.\n\n\n\n\n\n","category":"type"},{"location":"#PlanetaryMagneticFields.MagneticFieldModel","page":"Home","title":"PlanetaryMagneticFields.MagneticFieldModel","text":"MagneticFieldModel\n\nAbstract base type for all magnetic field models.\n\n\n\n\n\n","category":"type"},{"location":"#PlanetaryMagneticFields.MagneticModel","page":"Home","title":"PlanetaryMagneticFields.MagneticModel","text":"MagneticModel\n\nA callable wrapper around a magnetic field model that stores default parameters.\n\nUsage\n\nmodel = JRM33()\nB = model(r, θ, φ)  # Uses default in/out from constructor\nB = model(r, θ, φ; out=:spherical)  # Keyword arguments override defaults\n\n\n\n\n\n","category":"type"},{"location":"#PlanetaryMagneticFields.SphericalHarmonicModel","page":"Home","title":"PlanetaryMagneticFields.SphericalHarmonicModel","text":"SphericalHarmonicModel <: InternalFieldModel\n\nA magnetic field model using spherical harmonic expansion.\n\nFields\n\nname::String: Model name (e.g., \"jrm09\", \"jrm33\", \"igrf14\")\ncoeffs::GaussCoefficients: Gauss coefficients\n\nMathematical Formulation\n\nThe magnetic scalar potential V is expanded in spherical harmonics:\n\nV(rθφ) = a sum_n=1^N sum_m=0^n left(fracarright)^n+1\n           g_n^m cos(mφ) + h_n^m sin(mφ) P_n^m(cos θ)\n\nwhere:\n\na is the planetary radius\ngn^m, hn^m are the Gauss coefficients (Schmidt semi-normalized)\nP_n^m are the associated Legendre polynomials (Schmidt semi-normalized)\n(r,θ,φ) are spherical coordinates (radius, colatitude, longitude)\n\nThe magnetic field B = -∇V is computed from derivatives of the potential.\n\nCoordinate Systems\n\nSpherical: (r, θ, φ) where θ is colatitude [0, π] and φ is longitude [0, 2π]\nCartesian: (x, y, z) in the planet's reference frame\nAll coordinates are planetocentric unless otherwise specified\n\n\n\n\n\n","category":"type"},{"location":"#Base.getindex-Tuple{PlanetaryMagneticFields.GaussCoefficients, Int64, Int64}","page":"Home","title":"Base.getindex","text":"Base.getindex(coeffs::GaussCoefficients, n::Int, m::Int)\n\nGet the (g, h) coefficient pair for degree n and order m.\n\nReturns a named tuple with fields g and h.\n\nExample\n\ncoeffs[2, 1]  # Get g_2^1 and h_2^1\n\n\n\n\n\n","category":"method"},{"location":"#PlanetaryMagneticFields.available_models","page":"Home","title":"PlanetaryMagneticFields.available_models","text":"available_models([body])\n\nList all available models, optionally specified by a given astronomical body.\n\nExample\n\navailable_models()\navailable_models(:jupiter)\n\n\n\n\n\n","category":"function"},{"location":"#PlanetaryMagneticFields.cartesian_to_spherical-Tuple{Any, Any, Any}","page":"Home","title":"PlanetaryMagneticFields.cartesian_to_spherical","text":"cartesian_to_spherical(x, y, z)\n\nConvert Cartesian coordinates to spherical coordinates.\n\nArguments\n\nx, y, z: Cartesian coordinates (same units, e.g., km or planetary radii)\n\nReturns\n\n(r, θ, φ): Spherical coordinates\nr: radial distance (same units as input)\nθ: colatitude in radians [0, π]\nφ: east longitude in radians [0, 2π]\n\nCoordinate Convention\n\nx-axis: points to (θ=π/2, φ=0)\ny-axis: points to (θ=π/2, φ=π/2)\nz-axis: points to north pole (θ=0)\n\n\n\n\n\n","category":"method"},{"location":"#PlanetaryMagneticFields.degree-Tuple{PlanetaryMagneticFields.SphericalHarmonicModel}","page":"Home","title":"PlanetaryMagneticFields.degree","text":"degree(model::SphericalHarmonicModel)\n\nGet the maximum degree of the spherical harmonic expansion.\n\n\n\n\n\n","category":"method"},{"location":"#PlanetaryMagneticFields.evaluate_field_spherical-Tuple{PlanetaryMagneticFields.SphericalHarmonicModel, Any, Any, Any}","page":"Home","title":"PlanetaryMagneticFields.evaluate_field_spherical","text":"evaluate_field_spherical(model::SphericalHarmonicModel, r, θ, φ)\n\nEvaluate the magnetic field at a point in spherical coordinates.\n\nArguments\n\nmodel::SphericalHarmonicModel: The magnetic field model\nr: Radial distance in planetary radii (dimensionless)\nθ: Colatitude in radians [0, π]\nφ: East longitude in radians [0, 2π]\n\nReturns\n\nSVector{3,Float64}: Magnetic field vector [Br, Bθ, B_φ] in nanoTesla\n\nCoordinate System\n\nSpherical coordinates (r, θ, φ) where:\nr: radial distance from planet center\nθ: colatitude (0 at north pole, π at south pole)\nφ: east longitude (0 at prime meridian, increases eastward)\n\nMathematical Formulation\n\nThe magnetic field is derived from the scalar potential:\n\nB_r = -fracVr quad\nB_θ = -frac1rfracVθ quad\nB_φ = -frac1rsin θfracVφ\n\n\n\n\n\n","category":"method"},{"location":"#PlanetaryMagneticFields.jupiter_model_info-Tuple{Any}","page":"Home","title":"PlanetaryMagneticFields.jupiter_model_info","text":"jupiter_model_info(model_name::String)\n\nGet detailed information about a Jupiter magnetic field model.\n\nArguments\n\nmodel_name::String: Model identifier\n\nReturns\n\nDict{String,Any}: Model metadata including description, reference, DOI, degree, etc.\n\nExample\n\ninfo = jupiter_model_info(\"jrm09\")\nprintln(info[\"description\"])\nprintln(\"Reference: \", info[\"reference\"])\n\n\n\n\n\n","category":"method"},{"location":"#PlanetaryMagneticFields.load_coefficients-Tuple{Any}","page":"Home","title":"PlanetaryMagneticFields.load_coefficients","text":"load_coefficients(filepath; max_degree = nothing)::GaussCoefficients\n\nLoad Gauss coefficients from a filepath.\n\nmax_degree::Union{Int,Nothing}: Optional maximum degree to load (truncate higher degrees)\n\nExample\n\ncoeffs = load_coefficients(\"data/jupiter/jrm09.dat\")\ncoeffs = load_coefficients(\"data/jupiter/jrm33.dat\", max_degree=10)  # Truncate to degree 10\n\n\n\n\n\n","category":"method"},{"location":"#PlanetaryMagneticFields.load_model-Tuple{Any}","page":"Home","title":"PlanetaryMagneticFields.load_model","text":"load_model(model; kwargs...)::MagneticModel\nload_model(planet, model; kwargs...)::MagneticModel\n\nLoad and create a magnetic field model.\n\nSingle-argument form (by unique model name)\n\nLoad a model by its unique name (e.g., :JRM33, :JRM09).\n\nTwo-argument form (by planet and model)\n\nLoad a model by specifying both planet and model name.\n\nArguments\n\nmodel: Unique model identifier (e.g., :JRM33, :JRM09)\nplanet: Planet identifier (e.g., :jupiter, :saturn, :earth)\nmax_degree: Maximum degree to use (truncates model if specified)\nin: Default input coordinate system (:spherical or :cartesian)\nout: Default output coordinate system (:spherical or :cartesian)\n\nNotes\n\nInput positions are assumed to be in planetary radii by default. For physical units (e.g., km), use Unitful.jl which is supported via a package extension.\n\nReturns\n\nA callable MagneticModel object that can be invoked as model(r, θ, φ; kwargs...)\n\nExamples\n\n# Load by unique model name\nmodel = load_model(:JRM33; max_degree=13)\nB = model(1.5, π/4, 0.0)  # Returns [B_r, B_θ, B_φ] in nT\n\n# Load by planet and model name\nmodel = load_model(:jupiter, \"jrm09\")\nB = model(1.5, π/4, 0.0)\n\n# With custom coordinate systems\nmodel = load_model(:JRM33; max_degree=13, in=:cartesian, out=:cartesian)\nB = model(1.0, 0.0, 0.5)  # Returns [B_x, B_y, B_z] in nT\n\n# Override output coordinates at call time\nB_sph = model(1.0, 0.0, 0.5; out=:spherical)  # Returns [B_r, B_θ, B_φ]\n\n\n\n\n\n","category":"method"},{"location":"#PlanetaryMagneticFields.magnetic_dipole_moment-Tuple{PlanetaryMagneticFields.GaussCoefficients, Float64}","page":"Home","title":"PlanetaryMagneticFields.magnetic_dipole_moment","text":"magnetic_dipole_moment(coeffs::GaussCoefficients, radius::Float64)\n\nCalculate the magnetic dipole moment from g_1^0 coefficient.\n\nThe dipole moment is:\n\nM = -4π R³ g_1^0  μ_0\n\nwhere R is the planetary radius and μ_0 = 4π × 10^(-7) H/m.\n\nArguments\n\ncoeffs::GaussCoefficients: Gauss coefficients\nradius::Float64: Planetary radius in km\n\nReturns\n\nFloat64: Magnetic dipole moment in units of 10^27 Am²\n\nExample\n\nmoment = magnetic_dipole_moment(coeffs, 71492.0)  # Jupiter\n\n\n\n\n\n","category":"method"},{"location":"#PlanetaryMagneticFields.model_info-Tuple{Symbol, String}","page":"Home","title":"PlanetaryMagneticFields.model_info","text":"model_info(planet::Symbol, model::String)\nmodel_info(model::SphericalHarmonicModel)\n\nGet detailed information about a magnetic field model.\n\nArguments\n\nplanet::Symbol: Planet identifier\nmodel::String: Model identifier\n\nOR\n\nmodel::SphericalHarmonicModel: An already-loaded model\n\nReturns\n\nDict{String,Any}: Model metadata\n\nExample\n\ninfo = model_info(:jupiter, \"jrm09\")\nprintln(info[\"description\"])\nprintln(\"DOI: \", info[\"doi\"])\n\n# Or from a loaded model\nmodel = MagneticModel(:jupiter, \"jrm09\")\ninfo = model_info(model)\n\n\n\n\n\n","category":"method"},{"location":"#PlanetaryMagneticFields.order-Tuple{PlanetaryMagneticFields.SphericalHarmonicModel}","page":"Home","title":"PlanetaryMagneticFields.order","text":"order(model::SphericalHarmonicModel)\n\nGet the maximum order of the spherical harmonic expansion.\n\n\n\n\n\n","category":"method"},{"location":"#PlanetaryMagneticFields.schmidt_legendre!-Tuple{Any, Any, Any, Int64}","page":"Home","title":"PlanetaryMagneticFields.schmidt_legendre!","text":"schmidt_legendre!(P, dP, cosθ, sinθ, max_degree::Int)\n\nCompute Schmidt semi-normalized associated Legendre polynomials and their derivatives.\n\nThis function computes Pn^m(cos θ) and dPn^m/dθ for n = 0 to max_degree and m = 0 to n, using the Schmidt semi-normalization convention standard in geomagnetism.\n\nArguments\n\nP: Output matrix for Pn^m values (size: (maxdegree+1) × (max_degree+1))\ndP: Output matrix for dP_n^m/dθ values (same size as P)\ncosθ: cos(colatitude)\nsinθ: sin(colatitude)\nmax_degree::Int: Maximum degree to compute\n\nSchmidt Semi-Normalization\n\nThe Schmidt semi-normalized Legendre polynomials satisfy:\n\nint_0^π P_n^m(cos θ)² sin θ dθ = frac2(n+m)(2n+1)(n-m)\n\n\n\n\n\n","category":"method"},{"location":"#PlanetaryMagneticFields.spherical_field_to_cartesian-NTuple{5, Any}","page":"Home","title":"PlanetaryMagneticFields.spherical_field_to_cartesian","text":"spherical_field_to_cartesian(Br, Bθ, Bφ,\n                               θ, φ)\n\nConvert magnetic field vector from spherical to Cartesian components.\n\nArguments\n\nBr, Bθ, Bφ: Field components in spherical coordinates\nθ: colatitude in radians [0, π]\nφ: east longitude in radians [0, 2π]\n\nReturns\n\nSVector{3,Float64}: Field vector [Bx, By, Bz] in Cartesian coordinates\n\nTransformation\n\nbeginpmatrix B_x  B_y  B_z endpmatrix =\nbeginpmatrix\n  sin θ cos φ  cos θ cos φ  -sin φ \n  sin θ sin φ  cos θ sin φ   cos φ \n  cos θ          -sin θ            0\nendpmatrix\nbeginpmatrix B_r  B_θ  B_φ endpmatrix\n\n\n\n\n\n","category":"method"},{"location":"#PlanetaryMagneticFields.spherical_to_cartesian-Tuple{Any, Any, Any}","page":"Home","title":"PlanetaryMagneticFields.spherical_to_cartesian","text":"spherical_to_cartesian(r, θ, φ)\n\nConvert spherical coordinates to Cartesian coordinates.\n\nArguments\n\nr: radial distance\nθ: colatitude in radians [0, π]\nφ: east longitude in radians [0, 2π]\n\nReturns\n\n(x, y, z): Cartesian coordinates (same units as r)\n\n\n\n\n\n","category":"method"},{"location":"#PlanetaryMagneticFields.truncate_coefficients-Tuple{PlanetaryMagneticFields.GaussCoefficients, Int64}","page":"Home","title":"PlanetaryMagneticFields.truncate_coefficients","text":"truncate_coefficients(coeffs::GaussCoefficients, max_degree::Int)\n\nTruncate coefficients to a maximum degree.\n\nArguments\n\ncoeffs::GaussCoefficients: Original coefficients\nmax_degree::Int: Maximum degree to retain\n\nReturns\n\nGaussCoefficients: Truncated coefficients\n\n\n\n\n\n","category":"method"}]
}

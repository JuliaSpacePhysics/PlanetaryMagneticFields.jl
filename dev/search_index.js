var documenterSearchIndex = {"docs":
[{"location":"examples/#Examples","page":"Examples","title":"Examples","text":"","category":"section"},{"location":"examples/#Computing","page":"Examples","title":"Computing","text":"","category":"section"},{"location":"examples/#Working-with-Units","page":"Examples","title":"Working with Units","text":"By default, positions are in planetary radii\n\nusing PlanetaryMagneticFields\nusing Unitful\nmodel = JRM09()\nr_km = 107238.0u\"km\"  # 1.5 RJ in km\nθ, φ = π/4, 0.0\n@assert model(r_km, θ, φ) == model(1.5, θ, φ)\nmodel(r_km, θ, φ)","category":"section"},{"location":"examples/#Computing-on-multiple-positions","page":"Examples","title":"Computing on multiple positions","text":"using PlanetaryMagneticFields\n\nmodel = JRM09()\n\n# Evaluate at different positions\npositions = [\n    (1.5, 0.0, 0.0),      # North pole, 1.5 RJ\n    (2.0, π/2, 0.0),      # Equator, 2 RJ\n    (1.0, π/4, π/2),      # 45° colatitude, 90° longitude\n]\nB = model.(positions)","category":"section"},{"location":"examples/#Computing-on-a-Grid","page":"Examples","title":"Computing on a Grid","text":"You can compute field values over a latitude-longitude grid:\n\n# Compute radial field at 1.5 planetary radii\nr = 1.5\nBr = fieldmap(model, r, nlat=90, nlon=180; idx = 1)\n# Field statistics\nprintln(\"Br range: $(minimum(Br)) to $(maximum(Br)) nT\")","category":"section"},{"location":"examples/#Using-Cartesian-Coordinates","page":"Examples","title":"Using Cartesian Coordinates","text":"# Cartesian input and output\nmodel = JRM09()\nx, y, z = 1.0, 0.5, 0.5  # In Jupiter radii\nB = model(x, y, z; in=:cartesian) # by default, output format follows input format\n\n# Cartesian input, spherical output\nmodel(x, y, z; in=:cartesian, out=:spherical)","category":"section"},{"location":"examples/#Visualization","page":"Examples","title":"Visualization","text":"using CairoMakie, GeoMakie\nusing PlanetaryMagneticFields","category":"section"},{"location":"examples/#Different-Projections","page":"Examples","title":"Different Projections","text":"Various map projections are supported via PROJ strings:\n\nmodel = load_model(:earth, \"igrf2020\")\n\nlet fig = Figure(size=(1200, 400))\n    sf1 = plot_fieldmap(fig[1, 1], model; axis=(; title=\"Mollweide\"), dest=\"+proj=moll\")\n    sf2 = plot_fieldmap(fig[1, 2], model; axis=(; title=\"Robinson\"), dest=\"+proj=robin\")\n    sf3 = plot_fieldmap(fig[1, 3], model; axis=(; title=\"Equal Earth\"), dest=\"+proj=eqearth\")\nfig\nend","category":"section"},{"location":"examples/#Plotting-All-Planets","page":"Examples","title":"Plotting All Planets","text":"Create a comprehensive figure showing magnetic field maps for all supported planets:\n\nplot_models(; r=0.9, figure = (; size=(1200, 400)), position = Makie.Right())\n\nThis displays the radial magnetic field (Bᵣ) at the surface for:\n\nMercury (Anderson 2012 model)\nEarth (IGRF 2020 model)\nMars (Langlais 2019 crustal field model)\nJupiter (JRM09 model)\nSaturn (Cassini 11 model)\nUranus (AH5 model)\nNeptune (GSFC O8 model)\nGanymede (Kivelson 2002 model)","category":"section"},{"location":"examples/#Custom-Multi-Planet-Figures","page":"Examples","title":"Custom Multi-Planet Figures","text":"You can create custom layouts with specific planets and models:\n\n# Giant planets comparison\nplanets = [\n    (:Jupiter, \"JRM09\"),\n    (:Saturn, \"Cassini11\"),\n    (:Uranus, \"AH5\"),\n    (:Neptune, \"GSFCO8\"),\n]\nmodels = map(planets) do (planet, model_name)\n    load_model(planet, model_name)\nend\n\nplot_models(; r=0.9, models = models[1:2])\n\nlet fig = Figure()\n    fpos = [(1, 1), (1, 2), (2, 1), (2,2)]\n    for (idx, (planet, model_name)) in enumerate(planets)\n        ax = GeoAxis(fig[fpos[idx]...];  title=\"$(planet) => $(model_name)\")\n        sf = plot_fieldmap!(ax, models[idx]; r=1.0)\n    end\n    Label(fig[0, :], \"Giant Planet Magnetic Fields\")\n    fig\nend","category":"section"},{"location":"examples/#Different-Field-Components","page":"Examples","title":"Different Field Components","text":"Plot different components of the magnetic field:\n\nusing LinearAlgebra: norm\n\nmodel = load_model(:jupiter, \"jrm09\")\nlet fig = Figure(; size=(600, 300))\n    # Radial component\n    plot_fieldmap(fig[1, 1], model; idx=1)\n    # Field magnitude\n    plot_fieldmap(fig[1, 2], model; idx=norm, colormap=:plasma)\n    fig\nend","category":"section"},{"location":"#PlanetaryMagneticFields.jl","page":"Home","title":"PlanetaryMagneticFields.jl","text":"(Image: DOI) (Image: version)\n\nA Julia package for planetary magnetic field modeling.","category":"section"},{"location":"#Overview","page":"Home","title":"Overview","text":"PlanetaryMagneticFields.jl provides a unified framework for working with magnetic field models of planets in our solar system. It implements spherical harmonic expansions with Schmidt semi-normalization, following standards used in geomagnetism and planetary science.","category":"section"},{"location":"#Features","page":"Home","title":"Features","text":"Multi-planetary support: Mercury, Earth, Mars, Jupiter, Saturn, Uranus, Neptune, and Ganymede\nMultiple models: 80+ models available across all planets\nFlexible evaluation: Support for both spherical and Cartesian coordinates\nVisualization: Plot magnetic field maps using GeoMakie (Mollweide, Hammer projections)","category":"section"},{"location":"#Installation","page":"Home","title":"Installation","text":"using Pkg\nPkg.add(\"PlanetaryMagneticFields\")","category":"section"},{"location":"#Quick-Start","page":"Home","title":"Quick Start","text":"using PlanetaryMagneticFields\n\n# Load a Jupiter magnetic field model by unique name\nmodel = load_model(:JRM33; max_degree=13)\n\n# Or use the convenience accessor\nmodel = JRM33(max_degree=13)\n\n# Evaluate the field at a position (in planetary radii)\n# Position: 1.5 RJ, 45° colatitude, 0° longitude\nr, θ, φ = 1.5, π/4, 0.0\nB = model(r, θ, φ)  # Returns [B_r, B_θ, B_φ] in nT\n\n# Use Cartesian coordinates\nB = model(1.0, 0.0, 0.5; in=:cartesian)  # Returns [B_x, B_y, B_z] in nT\n\n# Keyword arguments take precedence over constructor arguments\nB_sph = model(1.0, 0.0, 0.5; in=:cartesian, out=:spherical)  # Returns [B_r, B_θ, B_φ]","category":"section"},{"location":"#Coordinate-Systems","page":"Home","title":"Coordinate Systems","text":"PlanetaryMagneticFields.jl currently supports two coordinate systems:","category":"section"},{"location":"#Spherical-Coordinates","page":"Home","title":"Spherical Coordinates","text":"r: Radial distance from planet center (in planetary radii or km)\nθ: Colatitude in radians [0, π] (0 at north pole, π at south pole)\nφ: East longitude in radians [0, 2π]","category":"section"},{"location":"#Cartesian-Coordinates","page":"Home","title":"Cartesian Coordinates","text":"x, y, z: Right-handed system with z-axis toward north pole\nx-axis points to (θ=π/2, φ=0)\ny-axis points to (θ=π/2, φ=π/2)","category":"section"},{"location":"#Visualization","page":"Home","title":"Visualization","text":"PlanetaryMagneticFields.jl provides visualization capabilities through GeoMakie. To use plotting functions, you need to load CairoMakie (or GLMakie) and GeoMakie:\n\nusing CairoMakie, GeoMakie\nusing PlanetaryMagneticFields\n\nHere is an example of how to plot a magnetic field map for a single planet:\n\nmodel = JRM09() # Load Jupiter's JRM09 model\n\n# Create a field map with Mollweide projection\nplot_fieldmap(model;\n    r=1.0,\n    axis=(; title=\"Jupiter Radial Magnetic Field (JRM09)\"),\n    dest=\"+proj=moll\"\n)\n\nSee visualization examples for more details.","category":"section"},{"location":"#Available-Models","page":"Home","title":"Available Models","text":"List all available models:\n\navailable_models()","category":"section"},{"location":"#Loading-Models-for-Any-Planet","page":"Home","title":"Loading Models for Any Planet","text":"# Load a model by planet and model name\nearth_model = load_model(:earth, \"igrf2020\")\nsaturn_model = load_model(:saturn, \"cassini11\")\nneptune_model = load_model(:neptune, \"gsfco8\")\n\n# Evaluate at the surface\nearth_model(1.0, π/4, 0.0)","category":"section"},{"location":"#Mercury","page":"Home","title":"Mercury","text":"available_models(:Mercury)","category":"section"},{"location":"#Earth","page":"Home","title":"Earth","text":"available_models(:Earth)\n\nThe IGRF (International Geomagnetic Reference Field) models span from 1900 to 2025.","category":"section"},{"location":"#Mars","page":"Home","title":"Mars","text":"available_models(:Mars)\n\nMars has crustal magnetic fields (no global dynamo).","category":"section"},{"location":"#Jupiter","page":"Home","title":"Jupiter","text":"available_models(:Jupiter)\n\nmodel_info(:jrm33)\nmodel_info(\"jrm09\")","category":"section"},{"location":"#Saturn","page":"Home","title":"Saturn","text":"available_models(:Saturn)","category":"section"},{"location":"#Uranus","page":"Home","title":"Uranus","text":"available_models(:uranus)","category":"section"},{"location":"#Neptune","page":"Home","title":"Neptune","text":"available_models(:neptune)","category":"section"},{"location":"#Ganymede","page":"Home","title":"Ganymede","text":"available_models(:ganymede)","category":"section"},{"location":"#Physical-Parameters","page":"Home","title":"Physical Parameters","text":"The package uses the following mean radii for unit conversions:\n\nBody Mean Radius (km)\nMercury 2,439.7\nEarth 6,371.2\nMars 3,389.5\nJupiter 71,492.0\nSaturn 60,268.0\nUranus 25,559.0\nNeptune 24,764.0\nGanymede 2,634.1","category":"section"},{"location":"#Mathematical-Background","page":"Home","title":"Mathematical Background","text":"The magnetic scalar potential is expanded in spherical harmonics:\n\nV(rθφ) = a sum_n=1^N sum_m=0^n left(fracarright)^n+1\n           g_n^m cos(mφ) + h_n^m sin(mφ) P_n^m(cos θ)\n\nwhere:\n\na is the planetary radius\ng_n^m, h_n^m are the Gauss coefficients (Schmidt semi-normalized)\nP_n^m are the associated Legendre polynomials (Schmidt semi-normalized)\n(r,θ,φ) are spherical coordinates\n\nThe magnetic field B = -∇V is computed from derivatives of the potential.","category":"section"},{"location":"#References","page":"Home","title":"References","text":"Connerney, J. E. P., et al. (2018). A new model of Jupiter's magnetic field from Juno's first nine orbits. Geophysical Research Letters, 45(6), 2590-2596. doi:10.1002/2018GL077312\nConnerney, J. E. P., et al. (2022). A new model of Jupiter's magnetic field at the completion of Juno's Prime Mission. Journal of Geophysical Research: Planets, 127(2), e2021JE007055. doi:10.1029/2021JE007055\nWinch, D. E., et al. (2005). Geomagnetism and Schmidt quasi-normalization. Geophysical Journal International, 160(2), 487-504.","category":"section"},{"location":"#Comparison","page":"Home","title":"Comparison","text":"using PythonCall\nusing PlanetaryMagneticFields\nusing Chairmarks\n@py import JupiterMag as jm\n\nr, θ, φ = 1.5, π/4, 0.0\njm.Internal.Config(Model=\"jrm33\", CartesianIn=false, CartesianOut=false)\n\nBr, Bt, Bp = jm.Internal.Field(r, θ, φ);\nB_py = pyconvert(Vector{Float64}, [Br[0], Bt[0], Bp[0]])\nmodel = JRM33(max_degree=13)\nB = model(r, θ, φ)\n@assert B_py ≈ B\n@b $model($r, $θ, $φ), jm.Internal.Field($r, $θ, $φ)","category":"section"},{"location":"#API-Reference","page":"Home","title":"API Reference","text":"","category":"section"},{"location":"#PlanetaryMagneticFields.GaussCoefficients","page":"Home","title":"PlanetaryMagneticFields.GaussCoefficients","text":"GaussCoefficients\n\nStorage for Gauss coefficients in Schmidt semi-normalized form.\n\nFields\n\ng: Schmidt semi-normalized g coefficients (degree × order)\nh: Schmidt semi-normalized h coefficients (degree × order)\n\nThe degree and order are inferred from matrix dimensions: degree = size(g,1)-1, order = size(g,2)-1.\n\n\n\n\n\n","category":"type"},{"location":"#PlanetaryMagneticFields.SphericalHarmonicModel","page":"Home","title":"PlanetaryMagneticFields.SphericalHarmonicModel","text":"SphericalHarmonicModel{C} <: InternalFieldModel\n\nA magnetic field model using spherical harmonic expansion.\n\nFields\n\nname: Model name\ncoeffs: Gauss coefficients (GaussCoefficients or TimeVaryingGaussCoefficients)\nobj: Object (planet, body) for which the model is defined\ndegree: Maximum degree N for evaluation\norder: Maximum order M for evaluation\n\n\n\n\n\n","category":"type"},{"location":"#PlanetaryMagneticFields.TimeVaryingGaussCoefficients","page":"Home","title":"PlanetaryMagneticFields.TimeVaryingGaussCoefficients","text":"TimeVaryingGaussCoefficients\n\nStorage for time-varying Gauss coefficients with multiple epochs. Coefficients are linearly interpolated between epochs.\n\nFields\n\nepochs: Sorted vector of epoch years (e.g., [1900.0, 1905.0, ..., 2025.0])\ncoefficients: Vector of GaussCoefficients, one per epoch\n\n\n\n\n\n","category":"type"},{"location":"#PlanetaryMagneticFields.IGRF-Tuple{}","page":"Home","title":"PlanetaryMagneticFields.IGRF","text":"IGRF(; in=:spherical, out=:spherical)\n\nLoad the International Geomagnetic Reference Field (IGRF) model.\n\nIGRF is a time-varying model of Earth's main magnetic field with coefficients at 5-year epochs from 1900 to 2025, linearly interpolated between epochs.\n\nUsage\n\nmodel = IGRF()\nB = model(r, θ, φ, 2020.5)  # t as decimal year\n\nArguments\n\nin, out: Coordinate systems (:spherical or :cartesian)\n\n\n\n\n\n","category":"method"},{"location":"#PlanetaryMagneticFields.available_models","page":"Home","title":"PlanetaryMagneticFields.available_models","text":"available_models([body])\n\nList all available models, optionally specified by a given astronomical body.\n\nExample\n\navailable_models()\navailable_models(:jupiter)\n\n\n\n\n\n","category":"function"},{"location":"#PlanetaryMagneticFields.fieldmap","page":"Home","title":"PlanetaryMagneticFields.fieldmap","text":"fieldmap(model, r, nlat, nlon; idx = identity)\nfieldmap(model, r = 1.0; nlat = 180, nlon = 360, kw...)\n\nCompute magnetic fields over a latitude-longitude grid at a given radial distance r [planetary radii] for model model.\n\nArguments\n\nnlat=180: Number of latitude points\nnlon=360: Number of longitude points`\nidx: Field component selector / function that works on the output of model(r, θ, φ) (default: identity returns full vector)\n1: Radial component (Br)\n2: Colatitude component (Bθ)\n3: Azimuthal component (Bφ)\nnorm: Field magnitude\n\nReturns\n\nKeyedArray: Magnetic field values at each grid point with axes:\nlon: Longitude values [-180, 180] degrees\nlat: Latitude values [-90, 90] degrees\n\nExample\n\nmodel = load_model(:jupiter, \"jrm09\")\nfield_map = fieldmap(model; r=1.0)\n# Access data: field_map[lon=0.0, lat=45.0]\n# Get axes: axiskeys(field_map, 1) for longitudes, axiskeys(field_map, 2) for latitudes\n\n\n\n\n\n","category":"function"},{"location":"#PlanetaryMagneticFields.load_coefficients-Tuple{Any}","page":"Home","title":"PlanetaryMagneticFields.load_coefficients","text":"load_coefficients(filepath)::GaussCoefficients\n\nLoad Gauss coefficients from a filepath.\n\nExample\n\nload_coefficients(\"data/jupiter/jrm09.dat\")\n\n\n\n\n\n","category":"method"},{"location":"#PlanetaryMagneticFields.load_model-Tuple{Any}","page":"Home","title":"PlanetaryMagneticFields.load_model","text":"load_model(model; kwargs...)\nload_model(planet, model; kwargs...)\n\nLoad and create a magnetic field model.\n\nSingle-argument form (by unique model name)\n\nLoad a model by its unique name (e.g., :JRM33, :JRM09).\n\nTwo-argument form (by planet and model)\n\nLoad a model by specifying both planet and model name.\n\nArguments\n\nmodel: Unique model identifier (e.g., :JRM33, :JRM09)\nplanet: Planet identifier (e.g., :jupiter, :saturn, :earth)\nmax_degree: Maximum degree to use (truncates model if specified)\nin: Default input coordinate system (:spherical or :cartesian)\nout: Default output coordinate system (:spherical or :cartesian)\n\nNotes\n\nInput positions are assumed to be in planetary radii by default. For physical units (e.g., km), use Unitful.jl which is supported via a package extension.\n\nReturns\n\nA callable object that can be invoked as model(r, θ, φ; kwargs...)\n\nExamples\n\n# Load by unique model name\nmodel = load_model(:JRM33; max_degree=13)\nB = model(1.5, π/4, 0.0)  # Returns [B_r, B_θ, B_φ] in nT\n\n# Load by planet and model name\nmodel = load_model(:jupiter, \"jrm09\")\nB = model(1.5, π/4, 0.0)\n\n# With custom coordinate systems\nmodel = load_model(:JRM33; max_degree=13, in=:cartesian, out=:cartesian)\nB = model(1.0, 0.0, 0.5)  # Returns [B_x, B_y, B_z] in nT\n\n# Override output coordinates at call time\nB_sph = model(1.0, 0.0, 0.5; out=:spherical)  # Returns [B_r, B_θ, B_φ]\n\n\n\n\n\n","category":"method"},{"location":"#PlanetaryMagneticFields.model_info","page":"Home","title":"PlanetaryMagneticFields.model_info","text":"model_info(model)\n\nGet detailed information about a magnetic field model.\n\nExample\n\ninfo = model_info(\"jrm09\")\nprintln(info[\"description\"])\n\n\n\n\n\n","category":"function"},{"location":"#PlanetaryMagneticFields.plot_fieldmap","page":"Home","title":"PlanetaryMagneticFields.plot_fieldmap","text":"plot_fieldmap(model; r=1.0, dest=\"+proj=moll\", kwargs...)\n\nCreate a complete figure with a magnetic field map.\n\nArguments\n\nmodel: The magnetic field model\nr::Real=1.0: Radial distance in planetary radii\n\nExample\n\nusing CairoMakie, GeoMakie\nusing PlanetaryMagneticFields\n\nmodel = load_model(:jupiter, \"jrm09\")\nplot_fieldmap(model; r=1.0, title=\"Jupiter JRM09\")\n\n\n\n\n\n","category":"function"},{"location":"#PlanetaryMagneticFields.plot_fieldmap!","page":"Home","title":"PlanetaryMagneticFields.plot_fieldmap!","text":"plot_fieldmap!(ax, model; r=1.0, nlat=180, nlon=360, kwargs...)\n\nPlot a magnetic field map on an existing GeoAxis ax, with nlat and nlon determining the number of latitude and longitude points, respectively.\n\nExample\n\nusing CairoMakie, GeoMakie\nusing PlanetaryMagneticFields\n\nfig = Figure()\nax = GeoAxis(fig[1,1]; dest=\"+proj=moll\")\nmodel = load_model(:jupiter, \"jrm09\")\nsf = plot_fieldmap!(ax, model; r=1.0)\nColorbar(fig[1,2], sf; label=\"Br [nT]\")\nfig\n\n\n\n\n\n","category":"function"},{"location":"#PlanetaryMagneticFields.plot_models","page":"Home","title":"PlanetaryMagneticFields.plot_models","text":"plot_models(; r=1.0, models=nothing, projection=\"+proj=moll\", kwargs...)\n\nCreate a figure showing magnetic field maps of all available planets.\n\nDefault Models\n\nMercury: \"anderson2012\"\nEarth: \"igrf2020\"\nMars: \"langlais2019\"\nJupiter: \"jrm09\"\nSaturn: \"cassini11\"\nUranus: \"ah5\"\nNeptune: \"gsfco8\"\nGanymede: \"kivelson2002a\"\n\n\n\n\n\n","category":"function"}]
}
